# ğŸ³ Docker Setup - Ø´Ø±Ø­ Ù…Ø¨Ø³Ø· Ù„ÙƒÙŠÙÙŠØ© Ø¹Ù…Ù„ Docker ÙÙŠ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

> Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù ÙŠØ´Ø±Ø­ ÙƒÙŠÙ ÙŠØ¹Ù…Ù„ Docker ÙÙŠ Analytical-Intelligence ÙˆÙƒÙŠÙ ÙŠØªÙ… Ø±Ø¨Ø· Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª Ù…Ø¹ Ø¨Ø¹Ø¶Ù‡Ø§.

---

## ğŸ“¦ Ù…Ø§ Ù‡Ùˆ DockerØŸ

**Docker** = ØµÙ†Ø§Ø¯ÙŠÙ‚ Ù…Ø¹Ø²ÙˆÙ„Ø© (Containers) ÙƒÙ„ ØµÙ†Ø¯ÙˆÙ‚ ÙÙŠÙ‡ ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¹ ÙƒÙ„ Ù…Ø§ ÙŠØ­ØªØ§Ø¬Ù‡.

```
Ø¨Ø¯ÙˆÙ† Docker:                                  Ù…Ø¹ Docker:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Ubuntu      â”‚ â† Python + FastAPI   â”‚   Container 1   â”‚
â”‚  Python 3.11    â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PostgreSQL     â”‚ â† PostgreSQL         â”‚   Container 2   â”‚
â”‚  Suricata       â”‚ â† Suricata           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  NFStream       â”‚ â† Suricata           â”‚   Container 3   â”‚
â”‚ (ÙƒÙ„Ù‡Ù… Ù…Ø®Ù„ÙˆØ·ÙŠÙ†) â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     (ÙƒÙ„ ÙˆØ§Ø­Ø¯ Ù…Ø¹Ø²ÙˆÙ„ ÙˆÙ†Ø¸ÙŠÙ)
```

---

## ğŸ—ï¸ Ø¨Ù†ÙŠØ© Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª ÙÙŠ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

### Ø®Ø§Ø¯Ù… Ø§Ù„ØªØ­Ù„ÙŠÙ„ (Analysis)

```
docker-compose.analysis.yml
           â”‚
           â”œâ”€â”€ postgres â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
           â”‚     â”œâ”€â”€ Port: 5432 (Ø¯Ø§Ø®Ù„ÙŠ ÙÙ‚Ø·)
           â”‚     â”œâ”€â”€ Volume: postgres_data
           â”‚     â””â”€â”€ Init: scripts/init_db.sql
           â”‚
           â””â”€â”€ backend â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Ø§Ù„Ø®Ø§Ø¯Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
                 â”œâ”€â”€ Port: 8000 (Ù…ÙƒØ´ÙˆÙ Ù„Ù„Ø®Ø§Ø±Ø¬)
                 â”œâ”€â”€ Depends on: postgres
                 â””â”€â”€ Volumes: models/ssh, models/network
```

### Ø®Ø§Ø¯Ù… Ø§Ù„Ø§Ø³ØªØ´Ø¹Ø§Ø± (Sensor)

```
docker-compose.sensor.yml
           â”‚
           â”œâ”€â”€ suricata â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ÙƒØ§Ø´Ù Ø§Ù„Ù‡Ø¬Ù…Ø§Øª
           â”‚     â”œâ”€â”€ network_mode: host
           â”‚     â”œâ”€â”€ Volume: data/suricata
           â”‚     â””â”€â”€ entrypoint: suricata-update + run
           â”‚
           â”œâ”€â”€ suricata_shipper â”€â”€ Ø´Ø§Ø­Ù† Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª
           â”‚     â”œâ”€â”€ Depends on: suricata
           â”‚     â””â”€â”€ ÙŠÙ‚Ø±Ø£: eve.json â†’ ÙŠØ±Ø³Ù„ Ù„Ù„Ù€ backend
           â”‚
           â”œâ”€â”€ auth_collector â”€â”€â”€â”€ Ø¬Ø§Ù…Ø¹ SSH
           â”‚     â””â”€â”€ ÙŠÙ‚Ø±Ø£: /var/log/auth.log
           â”‚
           â””â”€â”€ flow_collector â”€â”€â”€â”€ Ø¬Ø§Ù…Ø¹ Ø§Ù„ØªØ¯ÙÙ‚Ø§Øª
                 â””â”€â”€ network_mode: host (NFStream)
```

---

## ğŸ”„ ÙƒÙŠÙ ØªØ¹Ù…Ù„ Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©

### 1ï¸âƒ£ Ø¹Ù†Ø¯ ØªØ´ØºÙŠÙ„ `docker compose up`

```bash
docker compose -f docker-compose.analysis.yml up -d
```

**Ù…Ø§Ø°Ø§ ÙŠØ­Ø¯Ø«:**

```
Ø§Ù„Ø®Ø·ÙˆØ© 1: Ù‚Ø±Ø§Ø¡Ø© docker-compose.yml
    â†“
Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù€ Images (Ù…Ù† Dockerfile)
    â†“
Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø´Ø¨ÙƒØ© (ai-network)
    â†“
Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù€ Volumes
    â†“
Ø§Ù„Ø®Ø·ÙˆØ© 5: ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ (Ø­Ø³Ø¨ depends_on)
```

### 2ï¸âƒ£ ØªØ±ØªÙŠØ¨ Ø§Ù„ØªØ´ØºÙŠÙ„ (Analysis)

```
1. postgres ÙŠØ¨Ø¯Ø£ Ø£ÙˆÙ„Ø§Ù‹
   â”œâ”€â”€ ÙŠÙ†Ø´Ø¦ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ai_db
   â”œâ”€â”€ ÙŠØ´ØºÙ‘Ù„ scripts/init_db.sql
   â””â”€â”€ ÙŠÙ†ØªØ¸Ø± Ø­ØªÙ‰ ÙŠØ¬Ù‡Ø² (healthcheck)

2. backend ÙŠØ¨Ø¯Ø£ Ø¨Ø¹Ø¯ postgres
   â”œâ”€â”€ ÙŠÙ†ØªØ¸Ø± postgres ÙŠÙƒÙˆÙ† healthy
   â”œâ”€â”€ ÙŠØ­Ù…Ù‘Ù„ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ù…Ù† /app/models
   â””â”€â”€ ÙŠØ¨Ø¯Ø£ FastAPI Ø¹Ù„Ù‰ port 8000
```

---

## ğŸ“ Ø§Ù„Ù€ Volumes - ØªØ®Ø²ÙŠÙ† Ø¯Ø§Ø¦Ù…

```yaml
volumes:
  postgres_data:    # Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
```

**Ù…Ø§Ø°Ø§ ÙŠØ¹Ù†ÙŠØŸ**
```
Ø¨Ø¯ÙˆÙ† Volume:              Ù…Ø¹ Volume:
Container ÙŠÙ…ÙˆØª             Container ÙŠÙ…ÙˆØª
      â†“                          â†“
Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¶ÙŠØ¹ âŒ           Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ù‚ÙŠØ© âœ…
```

**Volumes ÙÙŠ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:**
```
./scripts/init_db.sql  â†’  /docker-entrypoint-initdb.d/  (ÙŠØªÙ†ÙØ° Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©)
./models/ssh           â†’  /app/models/ssh               (Ø§Ù„Ù†Ù…Ø§Ø°Ø¬)
./models/network       â†’  /app/models/network           (Ø§Ù„Ù†Ù…Ø§Ø°Ø¬)
./data/suricata        â†’  /var/log/suricata             (eve.json)
/var/log/auth.log      â†’  /var/log/auth.log             (Ø³Ø¬Ù„Ø§Øª SSH)
```

---

## ğŸŒ Ø§Ù„Ø´Ø¨ÙƒØ§Øª - ÙƒÙŠÙ ØªØªÙˆØ§ØµÙ„ Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª

### Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© (Analysis)

```yaml
networks:
  ai-network:
    driver: bridge
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ai-network (bridge)         â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ postgres â”‚â—„â”€â”€â”€â”€â–ºâ”‚   backend    â”‚    â”‚
â”‚  â”‚ :5432    â”‚      â”‚ :8000        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                      Port 8000:8000
                            â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                     â”‚  Ø§Ù„Ø®Ø§Ø±Ø¬      â”‚
                     â”‚ 192.168.x.x â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ÙƒÙŠÙ ÙŠØªØµÙ„ backend Ø¨Ù€ postgresØŸ**
```python
# ÙÙŠ config.py
DATABASE_URL = "postgresql+asyncpg://ai:ai2025@postgres:5432/ai_db"
#                                                      â†‘
#                                          Ø§Ø³Ù… Ø§Ù„Ø­Ø§ÙˆÙŠØ© (Ù„Ø§ IP!)
```

### Ø´Ø¨ÙƒØ© Host (Sensor)

```yaml
network_mode: host
```

**Ù„Ù…Ø§Ø°Ø§ host modeØŸ**
- Suricata ÙŠØ­ØªØ§Ø¬ ÙŠØ±Ù‰ ÙƒÙ„ Ø§Ù„Ù€ packets
- NFStream ÙŠØ­ØªØ§Ø¬ Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ù€ interface
- Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù…Ù† Ø¯Ø§Ø®Ù„ bridge network

---

## ğŸ”§ Ø§Ù„Ù€ Dockerfile - ÙƒÙŠÙ ÙŠÙØ¨Ù†Ù‰ Ø§Ù„Ù€ Image

### Ù…Ø«Ø§Ù„: Backend Dockerfile

```dockerfile
# 1. Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© - Ù†Ø®ØªØ§Ø± ØµÙˆØ±Ø© Ø£Ø³Ø§Ø³ÙŠØ©
FROM python:3.11-slim

# 2. ØªØ«Ø¨ÙŠØª Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
RUN apt-get update && apt-get install -y \
    curl libpq-dev gcc

# 3. Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø¹Ù…Ù„
WORKDIR /app

# 4. Ù†Ø³Ø® Ù…Ù„Ù Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø£ÙˆÙ„Ø§Ù‹ (Ù„Ù„Ù€ caching)
COPY requirements.txt .

# 5. ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª
RUN pip install -r requirements.txt

# 6. Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯
COPY app/ ./app/

# 7. ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

**ØªØ±ØªÙŠØ¨ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ù…Ù‡Ù… Ù„Ù„Ù€ Caching:**
```
Ø¥Ø°Ø§ ØºÙŠØ±Øª Ø§Ù„ÙƒÙˆØ¯ ÙÙ‚Ø· (app/):
â†’ Ø§Ù„Ø®Ø·ÙˆØ§Øª 1-5 ØªØ³ØªØ®Ø¯Ù… cache (Ø³Ø±ÙŠØ¹!)
â†’ ÙÙ‚Ø· 6-7 ØªØªÙ†ÙØ° Ù…Ù† Ø¬Ø¯ÙŠØ¯

Ø¥Ø°Ø§ ØºÙŠØ±Øª requirements.txt:
â†’ Ø§Ù„Ø®Ø·ÙˆØ§Øª 1-4 ØªØ³ØªØ®Ø¯Ù… cache
â†’ Ø§Ù„Ø®Ø·ÙˆØ§Øª 5-7 ØªØªÙ†ÙØ° Ù…Ù† Ø¬Ø¯ÙŠØ¯ (Ø¨Ø·ÙŠØ¡)
```

---

## ğŸ”— ÙƒÙŠÙ ØªØªØ¯ÙÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```
                         Sensor Server
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                            â”‚
â”‚  /var/log/auth.log â”€â”€â–º auth_collector â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚                                             â”‚              â”‚
â”‚  ens33 â”€â”€â–º suricata â”€â”€â–º eve.json â”€â”€â–º       â”‚              â”‚
â”‚                         suricata_shipper â”€â”€â”¼â”€â”€â–º POST â”€â”€â–º  â”‚
â”‚                                             â”‚              â”‚
â”‚  ens33 â”€â”€â–º flow_collector â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    HTTP POST /api/v1/ingest/*
                       (INGEST_API_KEY header)
                              â”‚
                              â–¼
                       Analysis Server
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ backend  â”‚â—„â”€â”€â”€â”¤  Ingest Endpoints:                  â”‚  â”‚
â”‚  â”‚          â”‚    â”‚  /api/v1/ingest/auth                â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â” â”‚    â”‚  /api/v1/ingest/suricata            â”‚  â”‚
â”‚  â”‚  â”‚ ML  â”‚ â”‚    â”‚  /api/v1/ingest/flow                â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”¬â”€â”€â”˜ â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚     â”‚    â”‚                                             â”‚
â”‚  â”‚     â–¼    â”‚                                             â”‚
â”‚  â”‚ Detectorsâ”‚â”€â”€â–º raw_events + detections â”€â”€â–º PostgreSQL   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                             â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦ÙŠØ© (Environment Variables)

### ÙƒÙŠÙ ØªØ¹Ù…Ù„ØŸ

```yaml
# ÙÙŠ docker-compose.yml
environment:
  DATABASE_URL: postgresql+asyncpg://${POSTGRES_USER:-ai}:${POSTGRES_PASSWORD:-ai2025}@postgres:5432/${POSTGRES_DB:-ai_db}
```

**Ø§Ù„ØªÙØ³ÙŠØ±:**
```
${POSTGRES_USER:-ai}
    â†“           â†“
 Ù…ØªØºÙŠØ±      Ù‚ÙŠÙ…Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
```

**Ù…ØµØ§Ø¯Ø± Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª (Ø¨Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©):**
```
1. Ù…ØªØºÙŠØ±Ø§Øª Shell           export POSTGRES_USER=admin
2. Ù…Ù„Ù .env                 POSTGRES_USER=admin
3. Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©        :-ai
```

---

## ğŸš€ Ø£ÙˆØ§Ù…Ø± Docker Ø§Ù„Ù…Ù‡Ù…Ø©

```bash
# â•â•â• Ø§Ù„Ø¨Ù†Ø§Ø¡ ÙˆØ§Ù„ØªØ´ØºÙŠÙ„ â•â•â•
docker compose -f docker-compose.analysis.yml up -d --build
#                                              â”‚  â””â”€â”€ Ø¨Ù†Ø§Ø¡ Ù…Ø¬Ø¯Ø¯
#                                              â””â”€â”€ Ø®Ù„ÙÙŠØ© (detached)

# â•â•â• Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© â•â•â•
docker ps                                  # Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª Ø§Ù„Ø´ØºØ§Ù„Ø©
docker compose logs -f backend             # Ø³Ø¬Ù„Ø§Øª Ø­ÙŠØ©
docker stats                               # Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙˆØ§Ø±Ø¯

# â•â•â• Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø­Ø§ÙˆÙŠØ© â•â•â•
docker exec -it ai_db-backend bash      # shell Ø¯Ø§Ø®Ù„ Ø§Ù„Ø­Ø§ÙˆÙŠØ©
docker exec -it ai_db-postgres psql -U ai -d ai_db

# â•â•â• Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù ÙˆØ§Ù„ØªÙ†Ø¸ÙŠÙ â•â•â•
docker compose down                        # Ø¥ÙŠÙ‚Ø§Ù
docker compose down -v                     # Ø¥ÙŠÙ‚Ø§Ù + Ø­Ø°Ù volumes
docker system prune -a                     # ØªÙ†Ø¸ÙŠÙ ÙƒÙ„ Ø´ÙŠØ¡
```

---

## ğŸ” Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ù…Ø´Ø§ÙƒÙ„

### Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ù„Ø§ ØªØ¨Ø¯Ø£ØŸ
```bash
docker compose logs <service_name>
# Ù…Ø«Ø§Ù„:
docker compose -f docker-compose.analysis.yml logs backend
```

### Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª Ù„Ø§ ÙŠØ¹Ù…Ù„ØŸ
```bash
# Ø§Ø¯Ø®Ù„ Ø§Ù„Ø­Ø§ÙˆÙŠØ© ÙˆØ§Ø®ØªØ¨Ø±
docker exec -it ai_db-backend bash

# Ù…Ù† Ø¯Ø§Ø®Ù„ Ø§Ù„Ø­Ø§ÙˆÙŠØ©:
ping postgres          # Ù‡Ù„ ÙŠÙˆØ¬Ø¯ØŸ
curl postgres:5432     # Ù‡Ù„ Ø§Ù„Ù…Ù†ÙØ° Ù…ÙØªÙˆØ­ØŸ
```

### Ø§Ù„Ù…Ù†ÙØ° Ù…Ø´ØºÙˆÙ„ØŸ
```bash
# Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
sudo lsof -i :8000
# Ø£Ùˆ
sudo netstat -tlnp | grep 8000

# Ø£ÙˆÙ‚ÙÙ‡Ø§
sudo kill <PID>
```

---

## ğŸ“Š Ù…Ù„Ø®Øµ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    docker-compose.yml                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Dockerfile â”€â”€buildâ”€â”€â–º Image â”€â”€runâ”€â”€â–º Container             â”‚
â”‚                                                             â”‚
â”‚  Volumes â”€â”€mountâ”€â”€â–º Container (ØªØ®Ø²ÙŠÙ† Ø¯Ø§Ø¦Ù…)                  â”‚
â”‚                                                             â”‚
â”‚  Networks â”€â”€connectâ”€â”€â–º Containers (ØªÙˆØ§ØµÙ„)                   â”‚
â”‚                                                             â”‚
â”‚  Environment â”€â”€injectâ”€â”€â–º Container (Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª)                â”‚
â”‚                                                             â”‚
â”‚  depends_on â”€â”€orderâ”€â”€â–º Containers (ØªØ±ØªÙŠØ¨ Ø§Ù„ØªØ´ØºÙŠÙ„)           â”‚
â”‚                                                             â”‚
â”‚  healthcheck â”€â”€verifyâ”€â”€â–º Container (Ø¬Ø§Ù‡Ø²ÙŠØ©)                 â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**ğŸ‰ Ø§Ù„Ø¢Ù† Ø£Ù†Øª ØªÙÙ‡Ù… ÙƒÙŠÙ ÙŠØ¹Ù…Ù„ Docker ÙÙŠ Analytical-Intelligence!**
